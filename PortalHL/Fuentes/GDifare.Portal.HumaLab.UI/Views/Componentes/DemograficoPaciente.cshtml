@using GDifare.Portal.Humalab.Servicio.Utils;
<div class="container-fluid justify-content-between bg-white rounded-3 p-3 mt-3">

    <h5 class="fw-bold">Demográficos Paciente</h5>

    <div class="row mt-2">

        <div class="d-flex justify-content-between gap-5">
            <div class="col-3 d-flex gap-2">
                <h5 @* class="fw-bold mt-2" *@ style="font-size:14px; font-weight:normal;">*Cédula:</h5>
                <input id="txtIdentPac" style="height:2rem; margin-left:0.5rem" onblur="BuscarPaciente()" data-toggle="popover" title="@Notificaciones.CedulaInvalida" class="form-control LimpiarText" type="text" maxlength="100" pattern="[a-zA-Z0-9]+" />
            </div>

            <div class="col-4 d-flex gap-2">

                <h5 @* class="fw-bold mt-2" *@ style="font-size:14px;">*Nombres:</h5>
                <input id="txtNomPac" style="height:2rem" pattern="[A-Za-z0-9]" class="form-control LimpiarText" type="text" />

            </div>

            <div class="col-4 d-flex gap-2">
                <h5 @* class="fw-bold mt-2" *@ style="font-size:14px;">*Apellidos:</h5>
                <input id="txtApellPac" style="height:2rem" pattern="[A-Za-z0-9]" class="form-control LimpiarText" type="text" />
            </div>


        </div>

    </div>

    <div class="row mt-2">

        <div class="d-flex gap-5 justify-content-between">

            <div class="col-3 d-flex gap-1">
                <h5 @* class="fw-bold mt-2" *@ style="font-size:14px;">*Género:</h5>

                <select id="selGenPac" style="height:2rem; width:10rem; margin-left:0.7rem" class="form-select">
                    <option value="2">Seleccionar</option>
                    <option value="1">Masculino</option>
                    <option value="0">Femenino</option>
                </select>

            </div>

            <div class="d-flex gap-2 col-4">
                <h5 @* class="fw-bold mt-2" *@ style="font-size:14px; margin-left:16px;">*Fecha de Nacimiento:</h5>
                <input id="dtpNaciPac" onchange="CalcularEdad(@Numeros.Uno)" style="height:2rem; width:11rem" class="form-control" type="date" />
            </div>

            <div class="col-4 d-flex gap-2" style="margin-left:2.2rem">

                <h5 @* class="fw-bold mt-2" *@ style="font-size:14px;">*Edad:</h5>
                <input id="txtEdadPac" style="height:2rem; width:3rem; margin-left:26px;" class="form-control" onchange="CalcularEdad(@Numeros.Dos)" maxlength="2" type="text" />
                <h5 class="mt-2" style="font-size:14px;">años</h5>

            </div>

        </div>

    </div>

    <div class="row mt-2">

        <div class="d-flex gap-5">

            <div class="col-3 d-flex gap-1">
                <h5 @* class="fw-bold mt-2" *@ style="font-size:14px;">Teléfono:</h5>
                <input id="txtcodigoPais" disabled value="+593" style="margin-left:0.5rem; width:3rem; height:2rem" />
                <input id="txtTelPac" style="height:2rem" class="form-control" type="text" maxlength="9" />

            </div>

            <div class="col-4 d-flex gap-1">
                <h5 @* class="fw-bold mt-2" *@ style="font-size:14px; margin-left:18px;">Correo:</h5>
                <input id="txtCorrPac" style="height:2rem" onchange="ValidarCorreo();" data-toggle="popover" title="@Notificaciones.CorreoInvalido" class="form-control LimpiarText" type="email"/>
            </div>

        </div>

    </div>



</div>


<script>

    function CalcularEdad(opcion)
    {
        var year = new Date().getFullYear();
        if(opcion == @Numeros.Uno)
        {
            var dtpyear = document.getElementById("dtpNaciPac").value;
            dtpyear = dtpyear.substring(0, 4);
            var edad = year - dtpyear;
            document.getElementById("txtEdadPac").value = edad;
        }

        if (opcion == @Numeros.Dos) {
            var edad = document.getElementById("txtEdadPac").value;
            var anoNacimiento = year-edad;
            var fechaActual = moment().format("YYYY-MM-DD");
            fechaActual = fechaActual.replace(year,anoNacimiento);
            document.getElementById("dtpNaciPac").value = fechaActual;
        }
        

    }




</script>

